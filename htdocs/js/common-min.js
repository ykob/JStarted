var width=document.body.clientWidth,height=document.body.clientHeight,canvas=document.getElementById("backgroundCanvas"),ctx=canvas.getContext("2d"),fps=60,frameTime=1e3/fps,objArr=[],instanceNum=0,lastTimeRender=+new Date,lastTimePushObj=+new Date,getRandomInt=function(a,b){return Math.floor(Math.random()*(b-a))+a},debounce=function(a,b,c){var d;a.addEventListener(b,function(){clearTimeout(d),d=setTimeout(function(){c()},500)},!1)},canvasResize=function(){ctx.clearRect(0,0,width,height),width=document.body.clientWidth,canvas.width=width,canvas.height=height};debounce(window,"resize",function(){canvasResize()}),canvasResize();var motionObj=function(a,b){this.r=getRandomInt(4,24),this.g=getRandomInt(5,10)/1e3/fps,this.t=0,this.k=getRandomInt(1,5)/1e3,this.x=a,this.px=a,this.ax=0,this.vx=.5,this.hsl=getRandomInt(60,120)+", 45%, 80%",this.alpha=getRandomInt(40,90),this.y=b};motionObj.prototype.move=function(){this.t+=frameTime,this.ax=(this.px-this.x)*this.k,this.vx+=this.ax,this.x+=this.vx,this.y=.5*this.g*this.t*this.t-3*this.r},motionObj.prototype.fadeAway=function(){this.t<1400||(this.alpha-=1)},motionObj.prototype.render=function(){ctx.beginPath(),ctx.shadowBlur=3*this.r,ctx.shadowColor="rgba(255, 255, 255, 1)",ctx.fillStyle="hsla("+this.hsl+", "+this.alpha/100+")",ctx.arc(this.x,this.y,this.r,0,360*Math.PI/180,!1),ctx.fill(),ctx.closePath()},motionObj.prototype.isLast=function(){return this.alpha<0?!0:!1};var render=function(){ctx.clearRect(0,0,width,height),instanceNum=0;for(var a=0;a<objArr.length;a++)objArr[a]&&(instanceNum++,objArr[a].move(),objArr[a].fadeAway(),objArr[a].render(),objArr[a].isLast()&&delete objArr[a])},renderloop=function(){var a=+new Date;if(requestAnimationFrame(renderloop),a-lastTimeRender>frameTime&&(render(),lastTimeRender=+new Date),a-lastTimePushObj>500&&100>instanceNum){for(var b=0;10>b;b++)objArr.push(new motionObj(Math.random()*width,0));lastTimePushObj=+new Date}};renderloop();